(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},6616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(5893),i=n(9008),r=n.n(i),u=n(7294),o=n(4409),l=n.n(o);function c(){let[e,t]=(0,u.useState)(""),[n,i]=(0,u.useState)(""),[o,c]=(0,u.useState)(!1),[d,a]=(0,u.useState)(!1),[m,y]=(0,u.useState)([]),[_,f]=(0,u.useState)(-1),[h,x]=(0,u.useState)(!1),g=(0,u.useRef)(setTimeout),p=(0,u.useRef)(null);async function v(){try{x(!0),console.log("query: "+n);let e=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})}),s=await e.json();if(200!==e.status)throw x(!1),s.error||Error("Request failed with status ".concat(e.status));y(s.elements),t(""),x(!1)}catch(e){console.error(e),alert(e.message)}}return(0,u.useEffect)(()=>{p.current.focus(),a(!0)},[]),(0,u.useEffect)(()=>{o?(document.getElementById("error").style.visibility="visible",document.getElementById("queryInput").style.border="3px solid red"):(document.getElementById("error").style.visibility="hidden",document.getElementById("queryInput").style.border="1px solid #ccc")},[o]),(0,u.useEffect)(()=>{d&&v(),0!=n.trim().length?document.getElementById("result").style.visibility="visible":document.getElementById("result").style.visibility="hidden"},[n]),(0,u.useEffect)(()=>{g.current=setTimeout(()=>{let e;3===(e=document.getElementById("dots")).innerHTML.length?e.innerHTML="":e.innerHTML+=".",f(_+1)},500)},[_]),(0,u.useEffect)(()=>{h?(f(0),y([])):(clearTimeout(g.current),document.getElementById("dots").innerHTML="",p.current.focus())},[h]),(0,s.jsxs)("div",{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Synonymes"}),(0,s.jsx)("link",{rel:"icon",href:"/icon.png"})]}),(0,s.jsxs)("main",{className:l().main,children:[(0,s.jsx)("h1",{children:"Synonymes"}),(0,s.jsx)("div",{className:l().error,id:"error",children:"Entrer un mot ou un expression"}),(0,s.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),0==e.trim().length){c(!0);return}c(!1),i(e)},children:[(0,s.jsx)("input",{type:"text",name:"query",ref:p,value:e,id:"queryInput",onChange:e=>{t(e.target.value),e.target.value.length>0&&c(!1)}}),(0,s.jsx)("input",{type:"submit",value:""})]}),(0,s.jsxs)("div",{className:l().result,id:"result",children:[(0,s.jsxs)("div",{className:l().query,children:["Synonymes de: ",n,(0,s.jsx)("div",{className:l().dots,id:"dots"})]}),(0,s.jsx)("div",{className:l().synonymes,children:m.map((e,t)=>(0,s.jsx)("div",{className:l().column,children:(0,s.jsx)("div",{className:l().itemcontainer,children:(0,s.jsx)("a",{onClick:()=>{i(e)},children:e},t.toString())},t.toString())}))})]}),(0,s.jsxs)("div",{className:l().credit,children:["2023 Fran\xe7ois Y. Gravel - Fabriqu\xe9 avec: OpenAI API, React & Next.js - Repo:"," ",(0,s.jsx)("a",{href:"https://github.com/gravelfy/synonymes-ai",children:"https://github.com/gravelfy/synonymes-ai"})]})]})]})}},4409:function(e){e.exports={main:"index_main__3wZvj",error:"index_error__ithf_",result:"index_result__66e57",synonymes:"index_synonymes__Wah6J",column:"index_column__uMB1n",itemcontainer:"index_itemcontainer__0o_NH",item:"index_item__bnOxH",query:"index_query__J9GQd",dots:"index_dots__KoGNB",credit:"index_credit__Gg7Fy"}},9008:function(e,t,n){e.exports=n(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);